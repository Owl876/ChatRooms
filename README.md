# Мессенджер с чатом и авторизацией

Этот проект представляет собой мессенджер с поддержкой регистрации, авторизации, аутентификации через JWT, созданный на основе микросервисной архитектуры. Проект включает несколько сервисов: сайт (website), сервис чатов (chat) и прокси-сервер (nginx) для распределения запросов.

## Установка и запуск

Для запуска проекта убедитесь, что у вас установлен Docker и Docker Compose. Чтобы собрать и запустить все контейнеры, выполните следующую команду:

```bash
docker-compose up --build
```

Эта команда автоматически создаст и запустит контейнеры для каждого сервиса, а также настроит сеть между ними.

После успешного запуска, сервис будет доступен по следующей ссылке: http://127.0.0.1/

## Структура проекта

Проект состоит из следующих папок и файлов:

<pre>
chat (папка)
├── auth.py             # Файл для расшифровки JWT-токена
├── Dockerfile          # Dockerfile для сборки контейнера сервиса чата
├── main.py             # Основной файл сервиса чата
└── requirements.txt    # Зависимости

db (папка)
└── dump                # Директория для постоянного хранения dump базы данных

nginx (папка)
├── Dockerfile          # Dockerfile для сборки контейнера Nginx
├── nginx.conf          # Конфигурационный файл Nginx
└── logs                # Директория для логов Nginx

website (папка)
├── auth.py             # Файл для работы с JWT-токенами
├── database.py         # Файл для работы с базой данных
├── Dockerfile          # Dockerfile для сборки контейнера
├── exceptions.py       # Файл с функциями проверки
├── main.py             # Основной файл сервиса
├── requirements.txt    # Зависимости
├── schema.py           # Файл с моделями
├── templates (папка)   # HTML-шаблоны
│   ├── authorization.html  # Страница авторизации
│   ├── chat.html           # Страница чата
│   ├── main.html           # Главная страница
│   ├── registration.html   # Страница регистрации
│   └── welcome.html        # Приветственная страница
└── static (папка)      # Статические файлы
    ├── js              # JavaScript файлы
    │   ├── auth.js         # Файл для работы с авторизацией
    │   ├── chat.js         # Скрипты для работы с чатом
    │   └── main.js         # Скрипты для работы с главной страницей
    └── css             # CSS файлы
        ├── auth.css        # Файл стилей для страницы авторизации и регистрации
        ├── chat.css        # Файл стилей для страницы чата
        ├── main.css        # Файл стилей для главной страницы
        └── welcome.css     # Файл стилей для приветственной страницы
</pre>

## Описание сервисов

 - chat: Микросервис для чата, реализует работу чатов.
 - db: PostgreSQL база данных, используется для хранения данных пользователей и чатов.
 - nginx: Прокси-сервер Nginx, распределяет запросы между frontend и backend.
 - website: Основной сайт с регистрацией, авторизацией и реализацией основных функций для создания и управления чатами.

## Используемые технологии

 - FastAPI: Фреймворк для создания API и backend.
 - PostgreSQL: Реляционная база данных.
 - JWT: JSON Web Tokens для аутентификации и авторизации.
 - Docker и Docker Compose: Оркестрация контейнеров.